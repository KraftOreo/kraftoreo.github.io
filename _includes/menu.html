<script src="https://cdn.jsdelivr.net/npm/darkreader@4.9.44/darkreader.js">
  document.getElementsByClassName('dark-mode-button')[0].onclick = function() {
    darkmode()
}
function darkmode() {
  let enabled = localStorage.getItem('dark-mode')

  if (enabled === null) {
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        enable();
    }
  } else if (enabled === 'true') {
    enable()
  }

  if (localStorage.getItem('dark-mode') === 'false') {
      enable();
  } else {
      disable();
  }
}
function enable()  {
  DarkReader.setFetchMethod(window.fetch)
  DarkReader.enable();
  localStorage.setItem('dark-mode', 'true');
}

function disable() {
  DarkReader.disable();
  localStorage.setItem('dark-mode', 'false');
}

</script>
<nav>
  {%- for item in include.menu -%}
  {%- assign node = site.pages | where: "name", item.file | first -%}
  {%- assign url = item.url | default: node.url -%}
  {%- assign title = item.title | default: node.title -%}
  <a href="{{ url | relative_url }}" {% if url==page.url %}class="selected" {% endif %}>
    {%- if item.icon -%}<svg aria-label="{{ title }}" class="icon">
      <use xlink:href="{{ "/assets/fontawesome/icons.svg" | relative_url }}#{{ item.icon }}"></use>
    </svg>{%- else -%}{{ title }}{%- endif -%}
  </a>
  {%- endfor -%}
  <!-- <a class="dark-mode-button">
    <svg class="icon">
      <use xlink:href="/assets/fontawesome/icons.svg#moon"></use>
    </svg>
  </a> -->
</nav>